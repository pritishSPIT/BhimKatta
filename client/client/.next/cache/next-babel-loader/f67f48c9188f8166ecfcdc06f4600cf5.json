{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { createContext, useContext } from 'react';\nimport axios from 'axios';\nimport { AuthContext } from './auth';\nimport { baseURL } from '../util/fetcher';\nvar FetchContext = createContext();\nvar Provider = FetchContext.Provider;\n\nvar FetchProvider = function FetchProvider(_ref) {\n  var children = _ref.children;\n\n  var _useContext = useContext(AuthContext),\n      authState = _useContext.authState;\n\n  var authAxios = axios.create({\n    baseURL: baseURL\n  });\n  authAxios.interceptors.request.use(function (config) {\n    config.headers.Authorization = \"Bearer \".concat(authState.token);\n    return config;\n  }, function (error) {\n    return Promise.reject(error);\n  });\n  authAxios.interceptors.response.use(function (response) {\n    return response;\n  }, function (error) {\n    var code = error && error.response ? error.response.status : 0;\n\n    if (code === 401 || code === 403) {\n      console.log('error code', code);\n    }\n\n    return Promise.reject(error);\n  });\n  return __jsx(Provider, {\n    value: {\n      authAxios: authAxios\n    }\n  }, children);\n};\n\nexport { FetchContext, FetchProvider };","map":null,"metadata":{},"sourceType":"module"}