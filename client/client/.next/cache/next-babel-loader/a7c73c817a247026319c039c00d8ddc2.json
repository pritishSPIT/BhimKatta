{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../../../store/auth';\nimport ModalContext from '../../../store/modal';\nimport AddComment from '../add-comment';\nimport styles from './comment-list.module.css';\n\nvar CommentList = function CommentList(_ref) {\n  var children = _ref.children,\n      questionId = _ref.questionId,\n      answerId = _ref.answerId,\n      setQuestion = _ref.setQuestion;\n\n  var _useContext = useContext(AuthContext),\n      isAuthenticated = _useContext.isAuthenticated;\n\n  var _useContext2 = useContext(ModalContext),\n      handleComponentVisible = _useContext2.handleComponentVisible;\n\n  var _useState = useState(false),\n      showAddComment = _useState[0],\n      setShowAddComment = _useState[1];\n\n  var _useState2 = useState(children.slice(0, 3)),\n      visibleComments = _useState2[0],\n      setVisibleComments = _useState2[1];\n\n  var _useState3 = useState(null),\n      difference = _useState3[0],\n      setDiffrence = _useState3[1];\n\n  useEffect(function () {\n    setVisibleComments(children.slice(0, 3));\n  }, [children]);\n  useEffect(function () {\n    setDiffrence(children.length - visibleComments.length);\n  }, [visibleComments]);\n  return __jsx(\"div\", {\n    className: styles.commentCell\n  }, visibleComments, difference > 0 ? __jsx(\"a\", {\n    className: styles.showMore,\n    onClick: function onClick() {\n      return setVisibleComments(children);\n    }\n  }, \"show \", __jsx(\"b\", null, difference), \" more comments\") : !showAddComment && __jsx(\"a\", {\n    className: styles.addComment,\n    onClick: function onClick() {\n      return isAuthenticated() ? setShowAddComment(true) : handleComponentVisible(true, 'signup');\n    }\n  }, \"add comment\"), showAddComment && __jsx(AddComment, {\n    questionId: questionId,\n    answerId: answerId,\n    setShowAddComment: setShowAddComment,\n    setQuestion: setQuestion\n  }));\n};\n\nexport default CommentList;","map":null,"metadata":{},"sourceType":"module"}